version: 2.1

setup: true

orbs:
  path-filtering: circleci/path-filtering@1.0.0

workflows:
  generate-config:
    jobs:
      - path-filtering/filter:
          name: generate_config
          base-revision: master
          config-path: .circleci/continue_config.yml
          mapping: |
            (?!(membrane_rtc_engine\w*|integration_test)/).* engine-changed true
            membrane_rtc_engine/.* engine-changed true
            membrane_rtc_engine_webrtc/.* webrtc-changed true
            membrane_rtc_engine_hls/.* hls-changed true
            membrane_rtc_engine_rtsp/.* rtsp-changed true
            integration_test/.* integration-changed true
